\documentclass[10pt,a4paper]{article}

\usepackage{geometry}
\geometry{
  top    = 0.25in,
  bottom = 0.25in,
  left   = 0.25in,
  right  = 0.25in
}
\setlength\parindent{0pt}
\setlength\parskip{1pt}
\usepackage{multicol}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage[sc]{mathpazo}
\linespread{1.0}

\usepackage{enumitem}
\setlist[itemize]{leftmargin=*,nosep,topsep=0pt,itemsep=0pt}

\usepackage{hyperref}
\usepackage{titlesec}

\titleformat{\section}
  {\large\bfseries}
  {}
  {0pt}
  {}
  [\vspace{-0.7em}\rule{\linewidth}{0.4pt}\vspace{-0.5em}]

\titleformat{\subsection}
  {\bfseries}
  {}
  {0pt}
  {}

\titlespacing*{\section}{0pt}{0.7ex}{0.5ex}
\titlespacing*{\subsection}{0pt}{0.3ex}{0.3ex}

\begin{document}
\pagestyle{empty}

\begin{center}
  {\Huge\textbf{\VAR{personal.name | escape_latex}}}\\[0.2em]
  \VAR{personal.location | escape_latex} \;|\;
  \href{mailto:\VAR{personal.email}}{\VAR{personal.email | escape_latex}} \;|\;
  \VAR{personal.phone | escape_latex}%
  \BLOCK{for link in personal.links}%
  \BLOCK{if link.url and link.username} \;|\; \href{\VAR{link.url | escape_latex}}{\VAR{link.username | escape_latex}}\BLOCK{endif}%
  \BLOCK{endfor}
\end{center}

\BLOCK{for section in sections}
\BLOCK{if section.isVisible and section.has_content}

\section*{\VAR{section.title | escape_latex}}

\BLOCK{if section.type == 'education'}
\BLOCK{for edu in section.content}
\textbf{\VAR{edu.school | escape_latex}},
\textit{\VAR{edu.degree | escape_latex}}
\hfill \VAR{edu.dates | escape_latex}
\BLOCK{if edu.subtitle}
\par\vspace{0.05em}
\textit{\VAR{edu.subtitle | escape_latex}}
\BLOCK{endif}
\BLOCK{if edu.description}
\par\vspace{0.05em}
\VAR{edu.description | escape_latex}
\BLOCK{endif}
\par\vspace{0.2em}
\BLOCK{endfor}
\BLOCK{endif}

\BLOCK{if section.type == 'summary'}
\VAR{section.content | escape_latex}
\BLOCK{endif}

\BLOCK{if section.type == 'experiences'}
\BLOCK{for exp in section.content}
\textbf{\VAR{exp.title | escape_latex}}, \textit{\VAR{exp.company | escape_latex}} \hfill \VAR{exp.dates | escape_latex}
\BLOCK{if exp.highlights}
\begin{itemize}[leftmargin=*]
  \BLOCK{for item in exp.highlights}
  \item \VAR{item | escape_latex}
  \BLOCK{endfor}
\end{itemize}
\BLOCK{endif}
\par\vspace{0.2em}
\BLOCK{endfor}
\BLOCK{endif}

\BLOCK{if section.type == 'projects'}
\BLOCK{for proj in section.content}
\textbf{\VAR{proj.name | escape_latex}} \hfill \VAR{proj.year | escape_latex}
\BLOCK{if proj.highlights}
\begin{itemize}
  \BLOCK{for item in proj.highlights}
  \item \VAR{item | escape_latex}
  \BLOCK{endfor}
\end{itemize}
\BLOCK{endif}
\par\vspace{0.2em}
\BLOCK{endfor}
\BLOCK{endif}

\BLOCK{if section.type == 'skills'}
\BLOCK{for cat in section.content}
\BLOCK{if cat.skills}
\textbf{\VAR{cat.category | escape_latex}:} \VAR{cat.skills | escape_latex}
\BLOCK{if not loop.last}

\BLOCK{endif}
\BLOCK{endif}
\BLOCK{endfor}
\par\vspace{0.2em}
\BLOCK{endif}

\BLOCK{if section.type == 'leadership'}
\BLOCK{for lead in section.content}
\textbf{\VAR{lead.role | escape_latex}} \BLOCK{if lead.place}— \VAR{lead.place | escape_latex} \BLOCK{endif} \hfill \VAR{lead.dates | escape_latex}
\BLOCK{if lead.highlights}
\begin{itemize}
  \BLOCK{for item in lead.highlights}
  \item \VAR{item | escape_latex}
  \BLOCK{endfor}
\end{itemize}
\BLOCK{endif}
\par\vspace{0.2em}
\BLOCK{endfor}
\BLOCK{endif}

\BLOCK{if section.type == 'languages'}
\VAR{section.content | escape_latex}
\BLOCK{endif}

\BLOCK{if section.type == 'custom'}
\BLOCK{for item in section.content}
\textbf{\VAR{item.title | escape_latex}} \BLOCK{if item.subtitle}— \VAR{item.subtitle | escape_latex} \BLOCK{endif} \BLOCK{if item.dates}\hfill \VAR{item.dates | escape_latex}\BLOCK{endif}
\BLOCK{if item.highlights}
\begin{itemize}
  \BLOCK{for hl in item.highlights}
  \item \VAR{hl | escape_latex}
  \BLOCK{endfor}
\end{itemize}
\BLOCK{endif}
\par\vspace{0.2em}
\BLOCK{endfor}
\BLOCK{endif}

\BLOCK{endif}
\BLOCK{endfor}

\end{document}
